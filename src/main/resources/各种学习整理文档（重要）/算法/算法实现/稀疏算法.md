​                                    稀疏算法

```

public class Sparse {
    public static void main(String[] args) throws IOException {
        int sparseArr[][] =new int[11][11];
        sparseArr[1][2]=2;
        sparseArr[3][4]=1;
        sparseArr[3][5]=2;
        sparseArr[7][6]=1;
        int num=0;
        for (int[] ints : sparseArr) {
            for (int anInt : ints) {
                if (anInt!=0){
                    num++;
                }
                System.out.printf("%d\t",anInt);
            }
            System.out.println("");
        }

        int firstLength = sparseArr.length;
        int secondLength = sparseArr[0].length;


        //用稀疏算法保存二维数组
        int sparseStore[][] =new int[num+1][3];
        sparseStore[0][0]=11;
        sparseStore[0][1]=11;
        sparseStore[0][2]=num;
        int row=0;
        for (int i = 0; i <firstLength ; i++) {
            for (int j = 0; j <secondLength ; j++) {
                if (sparseArr[i][j]!=0){
                    row++;
                    sparseStore[row][0]=i;
                    sparseStore[row][1]=j;
                    sparseStore[row][2]=sparseArr[i][j];
                }
            }
        }


        String ll="";
        System.out.println("稀疏算法生成的表保存到文件");
        for (int[] ints : sparseStore) {
            for (int anInt : ints) {
                ll=ll+anInt+"|";
            }
            FileWriter fileWriter = new FileWriter(new File("D:\\ttt\\test\\map.data"),true);
            fileWriter.write(ll+"\r\n");
            fileWriter.flush();
            ll="";
        }

        System.out.println("到文件读取还原为数组：");
        FileReader fileReader = new FileReader(new File("D:\\ttt\\test\\map.data"));
        BufferedReader bf = new BufferedReader(fileReader);
        String len="";
        int count=0;
        int loadFromFile[][] = new int[0][];
        while ((len=bf.readLine())!=null){
            count++;
            String subLen = len.substring(0,len.lastIndexOf("|"));
            String[] split = subLen.split("\\|");
            if (count==1){
                loadFromFile=new int[Integer.parseInt(split[0])][Integer.parseInt(split[1])];
            }else {
                loadFromFile[Integer.parseInt(split[0])][Integer.parseInt(split[1])]=Integer.parseInt(split[2]);
            }


        }



        //通过稀疏表还原为原二维表
       /* int reloadArr[][] = new int[sparseStore[0][1]][sparseStore[0][1]];
        for (int i = 1; i <sparseStore.length ; i++) {
            reloadArr[sparseStore[i][0]][sparseStore[i][1]]=sparseStore[i][2];
        }*/

        System.out.println("由稀疏表还原后的原表：");
        for (int[] ints : loadFromFile) {
            for (int anInt : ints) {
                System.out.printf("%d\t" ,anInt);
            }
            System.out.println("");
        }


    }
}
```